---
alwaysApply: true
---

## Project Structure

```
milvus_cli/
├── Core Modules
│   ├── main.py          # Main entry point
│   ├── Cli.py           # CLI command interface
│   ├── Connection.py    # Milvus connection management
│   ├── Collection.py    # Collection operations
│   ├── Database.py      # Database management
│   ├── Index.py         # Index management
│   ├── Partition.py     # Partition management
│   ├── Data.py          # Data import/export
│   ├── Role.py          # Role management
│   ├── User.py          # User management
│   ├── Alias.py         # Alias management
│   ├── Fs.py            # File system operations
│   ├── Types.py         # Data type definitions
│   ├── utils.py         # Utility functions
│   └── Validation.py    # Input validation
├── scripts/             # CLI command implementations
│   ├── milvus_cli.py    # Main CLI script
│   ├── connection_cli.py # Connection-related commands
│   ├── collection_cli.py # Collection-related commands
│   ├── database_cli.py  # Database-related commands
│   ├── index_cli.py     # Index-related commands
│   ├── partition_cli.py # Partition-related commands
│   ├── data_cli.py      # Data-related commands
│   ├── role_cli.py      # Role-related commands
│   ├── user_cli.py      # User-related commands
│   ├── alias_cli.py     # Alias-related commands
│   └── helper_cli.py    # Helper commands
└── test/                # Unit tests
    ├── test_connection.py
    ├── test_collection.py
    ├── test_database.py
    ├── test_index.py
    ├── test_partition.py
    ├── test_data.py
    ├── test_role.py
    ├── test_user.py
    └── test_alias.py
```

### Core Components

- **Core Modules**: Implement the main functionality logic of Milvus CLI, each module handles specific Milvus feature domains
- **scripts/**: Contains all CLI command implementations, providing user interaction interfaces
- **test/**: Complete unit test suite ensuring code quality and functionality correctness

我需要重构下 milvus cli 下面的文件。

comment 都用英文
不用给每个类型加文档

现在的文件基本都是用 pymilvus ORM api 写的，文档地址：
https://github.com/milvus-io/web-content/tree/master/API_Reference/pymilvus/v2.6.x/ORM 下的所有文件

希望都用 MilvusClient api 重构下，文档地址：https://github.com/milvus-io/web-content/tree/master/API_Reference/pymilvus/v2.6.x/MilvusClient 下的所有文件

所有重构都新增文件，不修改老的文件。
test 命令: python -m unittest {{test file path}}
test config 参考 test_collection_client.py test file

Dev:
Tips :

1. Add new cmd by referring to https://milvus.io/blog/Implement-Milvus-CLI-by-Python-Click.md
2. milvus_cli/utils.py has all the core functions that we can use milvus.
3. milvus_cli/scripts/milvus_cli.py is how we talk to cmd.
4. Check setup.py, is pymilvus version correct.
5. python3 -m venv venv (prepare clean env)
6. source venv/bin/activate (go into it)
7. pip3 install .
8. python3 -m milvus_cli.scripts.milvus_cli you can test it with cli by this command.
9. Add new pymilvus operations in milvus_cli/utils class PyOrm
10. Add auto-complete config in milvus_cli/utils class Completer
11. If you want to test some functions. You can test under the untils.py
    pyorm = PyOrm()
    pyorm.connect('default','127.0.0.1','19530')
    pyorm.listCredUsers()
12. Exit venv `deactivate` when you finished development
